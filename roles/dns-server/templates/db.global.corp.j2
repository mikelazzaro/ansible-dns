;; ;; ;; ;; ;; ;; ;; ;; ;; ;; ;; ;; ;; ;; ;; ;; ;; ;; ;; ;; ;; ;; ;; ;; ;; ;; ;; ;; ;;
;;                                                                                  ;;
;;  DO NOT EDIT THIS FILE DIRECTLY!                                                 ;;
;;                                                                                  ;;
;;  This file is automatically generated during the deployment procses,             ;;
;;      and any changes made here will be overwritten during the next deployment.   ;;
;;                                                                                  ;;
;; ;; ;; ;; ;; ;; ;; ;; ;; ;; ;; ;; ;; ;; ;; ;; ;; ;; ;; ;; ;; ;; ;; ;; ;; ;; ;; ;; ;;

;
;   BIND config file for global.corp.domain zone
;

$TTL    5m
@       IN      SOA     {{ inventory_hostname }}.global.corp.   root.{{ inventory_hostname }}.global.corp. (
                            {{ ansible_date_time.epoch }}           ; Serial
                            {{ dns_param_refresh }}                 ; Refresh
                            {{ dns_param_retry }}                   ; Retry
                            {{ dns_param_expire }}                  ; Expire
                            {{ dns_param_negative_cache_ttl }}      ; Negative Cache TTL
                         )

@       IN      NS      {{ inventory_hostname }}.global.corp.
@       IN      A       {{ ansible_host }}
@       IN      AAAA    ::1


;api.global.corp.                            IN  A   {{ api_server_ip }}
;db.global.corp.                             IN  A   {{ api_server_ip }}
;media.global.corp.                          IN  A   {{ api_server_ip }}

; Handle self

{{ inventory_hostname }}.global.corp.       IN  A   {{ ansible_host }}
{{ api_server_hostname }}.                  IN  A   {{ api_server_ip }}

; Other test domains

{{ docker_server_hostname }}.               IN  A   {{ docker_server_ip }}

; Point all 'non-test' domains to 'test' domains

{{ api_server_nontest_hostname  }}.         IN  CNAME   {{ api_server_hostname }}
{{ dns_nontest_primary_hostname }}.         IN  CNAME   {{ inventory_hostname }}.global.corp
{{ dns_nontest_secondary_hostname }}.       IN  CNAME   {{ inventory_hostname }}.global.corp
{{ docker_server_nontest_hostname }}.       IN  CNAME   {{ docker_server_hostname }}.global.corp


; Assorted central servers that still need to be accessible

{{ central_dns_hostname }}.                 IN  A   {{ central_dns_ip }}
